## **–ö–∞–∫ –∏–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –∑–∞–ø—Ä–æ—Å—ã?**

üî∏ **–ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ (Full Table Scan)**:

* –ë–î –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –≤—Å—é —Ç–∞–±–ª–∏—Ü—É (`Seq Scan` –≤ PostgreSQL).
* –ü—Ä–∏ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∏–ª–ª–∏–æ–Ω—ã —Å—Ç—Ä–æ–∫) —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç.

üîπ **–° –∏–Ω–¥–µ–∫—Å–æ–º (Index Scan)**:

* –ë–î –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.
* –ó–∞–ø—Ä–æ—Å `WHERE email = 'user@example.com'` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã.

EXPLAIN ANALYZE SELECT * FROM users WHERE email = 'user@example.com';

EXPLAIN ANALYZE SELECT * FROM users WHERE email = 'user@example.com';



### **–ö–æ–≥–¥–∞ –ù–ï —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã?**

üîª **–†–µ–¥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã** ‚Äì –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ, –∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –Ω–µ –¥–∞—Ç—å –≤—ã–≥–æ–¥—ã.
üîª **–ß–∞—Å—Ç—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (`INSERT`), –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (`UPDATE`), —É–¥–∞–ª–µ–Ω–∏—è (`DELETE`)** ‚Äì –∏–Ω–¥–µ–∫—Å—ã –∑–∞–º–µ–¥–ª—è—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
üîª **–ù–µ–±–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã** ‚Äì —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞.
üîª **–í—ã—Å–æ–∫–∞—è –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** ‚Äì –∏–Ω–¥–µ–∫—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –∏ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤**

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `EXPLAIN ANALYZE` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
‚úÖ –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã ‚Äì –æ–Ω–∏ –∑–∞–º–µ–¥–ª—è—é—Ç `INSERT/UPDATE/DELETE`.
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **`CLUSTER`** (PostgreSQL) –∏–ª–∏ **`OPTIMIZE TABLE`** (MySQL) –¥–ª—è –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω–¥–µ–∫—Å–æ–≤.
‚úÖ –£–¥–∞–ª—è–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:

DROP INDEX idx_users_email ON users;


**–í—ã–≤–æ–¥**

–ò–Ω–¥–µ–∫—Å—ã ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –∏—Ö –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —É–º–æ–º. –û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–∏ `SELECT`, –Ω–æ –º–æ–≥—É—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å `INSERT/UPDATE/DELETE`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `EXPLAIN ANALYZE`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –∏–Ω–¥–µ–∫—Å —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

‚ö° **–õ—É—á—à–∏–π –ø–æ–¥—Ö–æ–¥** ‚Äì —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –¥–∞—é—Ç –≤—ã–≥–æ–¥—É!
