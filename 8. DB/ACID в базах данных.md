## ACID в базах данных

ACID — это набор свойств, обеспечивающих надежность транзакций в системах управления базами данных (СУБД).

1. **Atomicity (Атомарность)** — транзакция выполняется полностью или не выполняется вовсе. Если в ходе выполнения происходит сбой, все изменения откатываются.
2. **Consistency (Согласованность)** — транзакция переводит базу данных из одного согласованного состояния в другое, не нарушая целостность данных.
3. **Isolation (Изоляция)** — параллельные транзакции не влияют друг на друга, их выполнение эквивалентно последовательному исполнению.
4. **Durability (Долговечность)** — после фиксации транзакции данные сохраняются в БД даже в случае сбоя системы.


### **Методы ускорения запросов к БД (помимо индексирования)**

1. **Кеширование**
   * Использование **Redis**, **Memcached** или встроенного кеширования в СУБД.
   * Хранение часто запрашиваемых данных в оперативной памяти, что уменьшает нагрузку на базу.
2. **Денормализация**
   * Создание дополнительных колонок или таблиц для быстрого доступа к данным (например, хранимые агрегированные значения).
   * Уменьшает количество `JOIN`, но увеличивает сложность обновления данных.
3. **Шардирование**
   * Разделение данных между разными серверами (горизонтальное масштабирование).
   * Используется, когда объем данных становится слишком большим для одной машины.
4. **Партиционирование**
   * Логическое деление таблицы на части по дате, ID или другому критерию.
   * Позволяет ускорить `SELECT`, уменьшая объем данных для поиска.
5. **Connection Pooling (Пул соединений)**
   * Повторное использование уже открытых соединений с БД.
   * Особенно полезно для высоконагруженных сервисов.
6. **Использование асинхронных операций**
   * Для чтения данных можно использовать **CQRS (Command Query Responsibility Segregation)** — разделение на команды (изменение данных) и запросы (чтение).
   * Фоновая обработка через **Message Queue (RabbitMQ, Kafka, SQS)** позволяет снижать нагрузку на БД.
7. **Оптимизация запросов**
   * Выбор `SELECT` только необходимых колонок (`SELECT *` замедляет запросы).
   * Уменьшение количества `JOIN` и `UNION` в пользу `WHERE` и `EXISTS`.
   * Замена `OR` на `IN`, `BETWEEN` и другие оптимизированные условия.
8. **Материализованные представления (Materialized Views)**
   * Хранение результатов сложных запросов в виде предрасчитанных данных.
   * Позволяет значительно ускорить отчеты и аналитические запросы.
9. **Обновление статистики и анализ плана выполнения**
   * Регулярный анализ `EXPLAIN ANALYZE`, `QUERY PLAN` и т.д.
   * Ручная настройка параметров БД (например, `work_mem`, `shared_buffers` в PostgreSQL).

Все эти методы в сочетании с индексированием помогают добиться высокой производительности работы с базой данных.
