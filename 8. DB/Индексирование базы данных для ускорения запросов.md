### Индексирование базы данных для ускорения запросов

Индексы в базе данных — это структуры, которые улучшают производительность запросов, ускоряя поиск данных. Они позволяют БД находить строки быстрее, сокращая количество проверяемых записей.

## 1. **Что такое индекс в БД?**

Индекс — это отдельная структура данных, основанная на столбцах таблицы. Он работает аналогично алфавитному указателю в книге: вместо того чтобы просматривать все страницы, можно сразу перейти к нужной.

## 2. **Типы индексов**

Различные базы данных поддерживают разные типы индексов. Рассмотрим основные:

### 🔹 **B-Tree Index (Стандартный)**

* Используется по умолчанию в большинстве реляционных БД (PostgreSQL, MySQL, MSSQL).
* Быстро выполняет `=` (равно), `>`, `<`, `BETWEEN`, `ORDER BY`.
* **Пример:**

CREATE INDEX idx_users_email ON users(email);

### **Hash Index**

* Оптимизирован для операторов `=` и `IN`, но не поддерживает `ORDER BY`, `LIKE`, `>`, `<`.
* Работает быстрее B-Tree при точном сравнении (`WHERE email = 'user@example.com'`).
* **Пример (PostgreSQL):**

CREATE INDEX idx_users_email ON users USING HASH(email);


**Partial Index (Частичный индекс)**

* Индексирует только часть данных, соответствующих условию.
* Хорош для случаев, когда чаще ищут только определённые записи.
* **Пример:**

CREATE INDEX idx_active_users ON users(email) WHERE is_active = true;


### **Composite Index (Составной индекс)**

* Индекс на несколько колонок.
* Эффективен, если часто используются несколько столбцов в `WHERE` и `ORDER BY`.
* **Пример**
* CREATE INDEX idx_users_name_email ON users(last_name, first_name);


### **Full-Text Index (Полнотекстовый)**

* Используется для поиска по тексту (`LIKE '%word%'` неэффективен).
* **Пример (MySQL): ** CREATE FULLTEXT INDEX idx_users_bio ON users(bio);


### **Spatial Index (Гео-индексы)**

* Для пространственных данных (`GIS`, `POINT`, `POLYGON`).
* **Пример:**

CREATE SPATIAL INDEX idx_locations_geom ON locations(geom);
