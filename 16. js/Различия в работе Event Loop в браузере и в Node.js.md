### –†–∞–∑–ª–∏—á–∏—è –≤ —Ä–∞–±–æ—Ç–µ **Event Loop** –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –≤ **Node.js**

Event Loop (–¶–∏–∫–ª —Å–æ–±—ã—Ç–∏–π) —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å—Ö–æ–∂–µ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –≤ **Node.js**, –Ω–æ –µ—Å—Ç—å –≤–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –∏–∑-–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –æ–∫—Ä—É–∂–µ–Ω–∏–π.

### 1. **–û–±—â–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Event Loop**

Event Loop –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —Ä–∞–±–æ—Ç–∞—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –º–µ—Ö–∞–Ω–∏–∑–º—É:

1. **Call Stack (–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤)** ‚Äì –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥.
2. **Task Queue (–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á)** ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–±—ç–∫–∏.
3. **Microtask Queue (–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ–∑–∞–¥–∞—á)** ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–¥–∞—á–∏ —Å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Promise`).
4. **Rendering (–¢–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)** ‚Äì –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
5. **Timers (–¢–∞–π–º–µ—Ä—ã, `setTimeout`, `setInterval`)**
6. **I/O (–û–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)**

### 2. **Event Loop –≤ –±—Ä–∞—É–∑–µ—Ä–µ**

–í –±—Ä–∞—É–∑–µ—Ä–µ Event Loop –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —Å **—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º** –∏ **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**.

üîπ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Event Loop –≤ –±—Ä–∞—É–∑–µ—Ä–µ**:

* **Task Queue** ‚Äì —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–±—ç–∫–∏ (`setTimeout`, `setInterval`, XHR, fetch).
* **Microtask Queue** ‚Äì –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤ (`Promise.then`, `MutationObserver`).
* **Rendering Step** ‚Äì –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–∫—Ä–æ–∑–∞–¥–∞—á –±—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

üìå **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:

* –ï—Å–ª–∏ –≤ **Microtask Queue** –º–Ω–æ–≥–æ –∑–∞–¥–∞—á, –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç **–∑–∞–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥**, –ø–æ—Ç–æ–º—É —á—Ç–æ UI-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ Event Loop.
* **setTimeout –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–¥–µ—Ä–∂–∫–∏**, —Ç–∞–∫ –∫–∞–∫ –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –∂–¥–∞—Ç—å –≤ –æ—á–µ—Ä–µ–¥–∏.
* –ë—Ä–∞—É–∑–µ—Ä **–º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É Event Loop**, –µ—Å–ª–∏ –≤–∫–ª–∞–¥–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ (—ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤).

### 3. **Event Loop –≤ Node.js**

–í Node.js Event Loop —É–ø—Ä–∞–≤–ª—è–µ—Ç **—Å–µ—Ä–≤–µ—Ä–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏** –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å C++ API (`libuv`).

üîπ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Event Loop –≤ Node.js**:

1. **Timers Phase** ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ `setTimeout` –∏ `setInterval`.
2. **I/O Callbacks Phase** ‚Äì –∫–æ–ª–ª–±—ç–∫–∏ –æ—Ç I/O –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥).
3. **Idle, Prepare Phase** ‚Äì (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —ç—Ç–∞–ø –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π).
4. **Poll Phase** ‚Äì –æ—Å–Ω–æ–≤–Ω–æ–π —ç—Ç–∞–ø –æ–±—Ä–∞–±–æ—Ç–∫–∏ I/O (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã).
5. **Check Phase** ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ `setImmediate()`.
6. **Close Callbacks Phase** ‚Äì –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `socket.on('close')`).
7. **Microtasks** (`process.nextTick`, `Promise.then`) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ç–µ–∫–∞, –∫–∞–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

üìå **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:

* –í Node.js **—Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ñ–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ Poll Phase**.
* `setImmediate()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **—Ä–∞–Ω—å—à–µ, —á–µ–º `setTimeout(0)`**, —Ç–∞–∫ –∫–∞–∫ `setTimeout` –ø–æ–ø–∞–¥–∞–µ—Ç –≤ **Timers Phase**, –∞ `setImmediate` ‚Äì –≤ **Check Phase**.
* `process.nextTick()` –∏–º–µ–µ—Ç **–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∞–∑–µ Event Loop.
* **Node.js –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞**, –Ω–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `worker_threads` –¥–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

### 4. **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è**


| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å      | –ë—Ä–∞—É–∑–µ—Ä                                         | Node.js                                                                                |
| --------------------------- | ------------------------------------------------------ | -------------------------------------------------------------------------------------- |
| **–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å** | –†–µ–Ω–¥–µ—Ä–∏–Ω–≥, –æ–±—Ä–∞–±–æ—Ç–∫–∞ UI              | –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏, I/O                                                   |
| **Rendering Step**          | –î–∞ (–º–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏)                 | –ù–µ—Ç                                                                                 |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ I/O**  | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ API –±—Ä–∞—É–∑–µ—Ä–∞            | `libuv`(C++)                                                                           |
| **setTimeout(0)**           | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ | –ü–æ—Å–ª–µ Poll Phase                                                                  |
| **setImmediate**            | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç                                 | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞–Ω—å—à–µ`setTimeout(0)`                                     |
| **process.nextTick**        | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç                                 | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ–∞–∑–µ Event Loop |

### 5. **–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã Event Loop**
