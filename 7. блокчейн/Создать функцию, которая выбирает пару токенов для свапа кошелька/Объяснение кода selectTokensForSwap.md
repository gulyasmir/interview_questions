### Объяснение кода:

1. **Входные параметры**:
   * `walletTokens`: массив токенов, которые есть в кошельке пользователя.
   * `preferredPairs`: массив предпочтительных пар токенов для свапа.
2. **Логика работы**:
   * Сначала функция проверяет, есть ли в кошельке пара токенов из массива `preferredPairs`.
   * Если такая пара найдена, она возвращается.
   * Если предпочтительных пар нет, функция выбирает случайную пару токенов из доступных.
   * Если в кошельке недостаточно токенов для формирования пары, функция возвращает `null`.
3. **Пример использования**:
   * Если в кошельке есть `ETH`, `BTC`, `USDT` и предпочтительная пара — `['ETH', 'USDT']`, то эта пара будет выбрана первой.
   * Если предпочтительная пара не найдена, функция выберет случайные токены из доступных.

Вы можете расширить эту функцию, добавив логику для проверки доступных балансов, статуса токенов или других бизнес-логик.
