### Объяснение кода

1. **Аргументы функции `handleTokenActions`**:
   * `walletTokens`: массив токенов, доступных в кошельке.
   * `preferredPairs`: массив предпочтительных пар для свапа.
   * `transferLimit`: объект с ограничением на минимальное и максимальное количество трансферов.
2. **Счетчик `transferCount`**:
   * Отслеживает, сколько раз подряд был выполнен трансфер.
   * После выполнения свапа сбрасывается.
3. **Проверка максимального количества трансферов**:
   * Если количество трансферов подряд превышает `transferLimit.max`, пользователю предлагается выполнить другое действие.
4. **Действия `swap` и `transfer`**:
   * `swap`: выполняет обмен токенов с помощью функции `selectTokensForSwap`.
   * `transfer`: выполняет трансфер первого доступного токена в кошельке.
5. **Гибкость настройки**:
   * Вы можете изменить `transferLimit` для своих требований.


### Выводы

Этот код позволяет контролировать жизненный цикл действий с токенами, включая ограничения на количество подряд выполняемых трансферов. Теперь добавлены:

1. Возможность переключения между свапами и трансферами.
2. Ограничение на выполнение трансферов подряд.
3. Логика для сброса счётчика трансферов при выполнении свапа.
