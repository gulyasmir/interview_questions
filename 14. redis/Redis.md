#### **Общие вопросы**

1. **Redis** – это in-memory хранилище данных, используется как кэш, брокер сообщений, база данных.
2. Быстрее SQL-БД, поддерживает NoSQL-структуры, не требует схемы.
3. **String, List, Set, Sorted Set, Hash, HyperLogLog, Bitmap, Stream.**
4. Redis хранит данные на диске, поддерживает больше структур.
5. Можно, но без строгой консистентности.
6. Кэш, сессии, очереди, статистика, распределенные блокировки.
7. **Master-Slave**, копирование асинхронное.
8. **RDB (снимки)** и **AOF (журнал команд)**.
9. RDB – быстрее, но теряет данные. AOF – медленнее, но надежнее.
10. Используется **Sentinel/Cluster** для отказоустойчивости.

#### **Архитектура и производительность**

11. Данные в RAM, однопоточный процесс, асинхронные операции.
12. Использует **event loop**, но с **IO-многопоточностью**.
13. Все в памяти, можно выгружать на диск.
14. `maxmemory` + политики очистки.
15. **LRU, LFU, TTL**, либо отказ в записи.
16. Ошибка `OOM`, данные не сохраняются.
17. `MULTI` – `EXEC`, но без отката при ошибках.
18. Отправка нескольких команд за один запрос.
19. Скрипты **Lua** выполняются атомарно.
20. **MULTI** – транзакция, **pipeline** – просто пакет команд.

#### **Кэширование и управление данными**

21. `EXPIRE`, `TTL` – автоматическое удаление.
22. Можно обновлять или удалять.
23. **Write-through, Write-back, Cache Aside.**
24. Данные в Redis → нет? → в БД → в Redis.
25. Write-through – синхронно в Redis и БД, Write-back – сначала Redis.
26. **Mutex, Bloom Filter, "dogpile" защита.**
27. `SET`, `GET`, `DEL`, `EXPIRE`, `KEYS`, `SCAN`.
28. Использует **ключи-хэши**.
29. **String, Hash** – для хранения сессий.
30. `EXPIRE` + двойная запись в БД.

#### **Кластеризация и отказоустойчивость**

31. **Redis Cluster** – распределение по узлам, шардирование.
32. **Sentinel** – HA, **Cluster** – масштабирование.
33. **Sentinel** переключает мастер-узел.
34. Проблемы консистентности, потеря данных.
35. **Шардирование** – деление ключей по нодам.
36. Используются **hash slots**.
37. **Replica resync**, пересинхронизация.
38. **ACL, авторизация, шифрование.**
39. Возможны гонки данных.
40. Redis не поддерживает **ACID** для распределенных систем.

#### **Команды и API Redis**

41. `KEYS *` или `SCAN`.
42. `FLUSHALL`.
43. `DEL` – синхронно, `UNLINK` – асинхронно.
44. `EXISTS key`.
45. `LRANGE` – для списков, `SCAN` – для всех ключей.
46. `SMEMBERS`.
47. `HMSET key field1 value1 field2 value2`.
48. Использует **locking через SET NX**.
49. `PUBLISH`, `SUBSCRIBE`.
50. **HyperLogLog** – для учета уникальных значений.

#### **Практические кейсы**

51. **Rate Limiting** – с помощью **INCR + EXPIRE**.
52. **Очереди** – через **List (LPUSH/LPOP)**.
53. **Лидерборды** – через **Sorted Set (ZADD/ZRANGE)**.
54. **Онлайн-статусы** – через **SET + TTL**.
55. **Блокировки** – `SET key value NX PX 5000`.
56. **Очереди задач** – `BRPOP`.
57. **Дедупликация** – через **Set (SADD)**.
58. **TTL без EXPIRE** – `ZSET + timestamp`.
59. Работает, но нет **ACK**, лучше **Kafka/RabbitMQ**.
60. **Уникальные посетители** – через **HyperLogLog**.
