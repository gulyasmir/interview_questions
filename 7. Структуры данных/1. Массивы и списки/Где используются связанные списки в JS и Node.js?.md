## **1. –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –≤ JS –∏ Node.js?**

–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ **Node.js**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ **–æ—á–µ—Ä–µ–¥—è—Ö –∑–∞–¥–∞—á, –ø–æ—Ç–æ–∫–∞—Ö –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏**. –û–Ω–∏ —Å–∫—Ä—ã—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥–≤–∏–∂–∫–µ V8 –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

### **1.1 –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö**

–í–Ω—É—Ç—Ä–∏ JavaScript-–¥–≤–∏–∂–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, V8) **—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏** –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, –∫–∞–∫:

* **`Map` –∏ `Set`** ‚Äì –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã + –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –≤—Å—Ç–∞–≤–∫–∏.
* **`WeakMap` –∏ `WeakSet`** ‚Äì –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.
* **`Promise` (—Ü–µ–ø–æ—á–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)** ‚Äì —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏.
* **–ú–µ—Ö–∞–Ω–∏–∑–º `Event Loop` –≤ Node.js** ‚Äì –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥—å (–ø–æ —Å—É—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á.

### **1.2 –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á (Task Queue) –≤ Node.js**

–ö–æ–≥–¥–∞ Node.js –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫—É `setTimeout`, `setImmediate`, `process.nextTick()`), –∑–∞–¥–∞—á–∏ —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å.
–≠—Ç–∞ –æ—á–µ—Ä–µ–¥—å **–æ–±—ã—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–∞–∫ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–µ–π—à–µ–π –æ—á–µ—Ä–µ–¥–∏:

```
class TaskQueue {
  constructor() {
    this.head = null;
    this.tail = null;
  }

  enqueue(task) {
    let newNode = new ListNode(task);
    if (!this.tail) {
      this.head = this.tail = newNode;
    } else {
      this.tail.next = newNode;
      this.tail = newNode;
    }
  }

  dequeue() {
    if (!this.head) return null;
    let task = this.head.value;
    this.head = this.head.next;
    if (!this.head) this.tail = null;
    return task;
  }
}

```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥–∏ —Å–æ–±—ã—Ç–∏–π** –≤ Node.js.

### **1.3 –ë—É—Ñ–µ—Ä—ã –∏ –ø–æ—Ç–æ–∫–∏ –≤ Node.js (`Buffer`, `Stream`)**

Node.js –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–±—É—Ñ–µ—Ä—ã –∏ –ø–æ—Ç–æ–∫–∏** (`Stream`) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞–º–∏ **(–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, HTTP-–∑–∞–ø—Ä–æ—Å—ã, WebSockets)**,
–¥–∞–Ω–Ω—ã–µ **—Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ**.

#### **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤ `ReadableStream`**

Node.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–±—É—Ñ–µ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤** (`Stream`).
–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã—Ö (`chunk`) **–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞** –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:

```

const { Readable } = require('stream');

class MyStream extends Readable {
  constructor(data) {
    super();
    this.data = data;
    this.index = 0;
  }

  _read() {
    if (this.index < this.data.length) {
      this.push(this.data[this.index++]); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
    } else {
      this.push(null); // –ó–∞–≤–µ—Ä—à–∞–µ–º –ø–æ—Ç–æ–∫
    }
  }
}

const stream = new MyStream(['Hello', ' ', 'World', '!']);
stream.on('data', chunk => console.log(chunk.toString())); 
// –í—ã–≤–æ–¥: Hello World!

```

</button></span></div></div></div><div class="overflow-y-auto p-4" dir="ltr"></div></div></pre>

–í `ReadableStream` –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **–≤ —Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ**, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É **–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π**.

### **1.4 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—ç—à–∞ (LRU Cache)**

LRU (Least Recently Used) ‚Äì —ç—Ç–æ –∫—ç—à, –∫–æ—Ç–æ—Ä—ã–π **—Ö—Ä–∞–Ω–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —É–¥–∞–ª—è–µ—Ç —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö**.
–ß–∞—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ **—Ö—ç—à-—Ç–∞–±–ª–∏—Ü—ã + –¥–≤—É—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞**.

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **LRU Cache**:

```
class LRUCache {
  constructor(capacity) {
    this.capacity = capacity;
    this.map = new Map();
    this.head = null;
    this.tail = null;
  }

  get(key) {
    if (!this.map.has(key)) return -1;
    let node = this.map.get(key);
    this._moveToHead(node);
    return node.value;
  }

  put(key, value) {
    if (this.map.has(key)) {
      let node = this.map.get(key);
      node.value = value;
      this._moveToHead(node);
      return;
    }
    let newNode = { key, value, next: null, prev: null };
    this.map.set(key, newNode);
    this._addToHead(newNode);
    if (this.map.size > this.capacity) {
      this._removeTail();
    }
  }

  _addToHead(node) {
    node.next = this.head;
    if (this.head) this.head.prev = node;
    this.head = node;
    if (!this.tail) this.tail = node;
  }

  _moveToHead(node) {
    if (node === this.head) return;
    if (node === this.tail) {
      this.tail = this.tail.prev;
      this.tail.next = null;
    }
    if (node.prev) node.prev.next = node.next;
    if (node.next) node.next.prev = node.prev;
    this._addToHead(node);
  }

  _removeTail() {
    if (!this.tail) return;
    this.map.delete(this.tail.key);
    this.tail = this.tail.prev;
    if (this.tail) this.tail.next = null;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const cache = new LRUCache(2);
cache.put(1, "one");
cache.put(2, "two");
console.log(cache.get(1)); // "one"
cache.put(3, "three"); // –£–¥–∞–ª–∏—Ç –∫–ª—é—á 2, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —É—Å—Ç–∞—Ä–µ–ª
console.log(cache.get(2)); // -1 (—É–¥–∞–ª—ë–Ω)

```

**–ó–∞—á–µ–º –∑–¥–µ—Å—å —Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫?**

* **–ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** (–≤ –Ω–∞—á–∞–ª–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏).
* **–ë—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–∞–º–æ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞** (–∏–∑ –∫–æ–Ω—Ü–∞).
* **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**.

### **1.5 –†–∞–±–æ—Ç–∞ —Å WebSockets**

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å **WebSockets** —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.
–ö–∞–∂–¥–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è **–æ–±—ä–µ–∫—Ç–æ–º –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ**, –≥–¥–µ –∫–∞–∂–¥–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–µ.

```
class ConnectionNode {
  constructor(socket) {
    this.socket = socket;
    this.next = null;
  }
}

class ConnectionList {
  constructor() {
    this.head = null;
  }

  add(socket) {
    let newNode = new ConnectionNode(socket);
    newNode.next = this.head;
    this.head = newNode;
  }

  remove(socket) {
    let current = this.head;
    let prev = null;
    while (current) {
      if (current.socket === socket) {
        if (prev) prev.next = current.next;
        else this.head = current.next;
        return;
      }
      prev = current;
      current = current.next;
    }
  }
}

```

–¢–∞–∫–æ–π **—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** –º–æ–∂–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.

## **2. –ò—Ç–æ–≥**

### **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –≤ JavaScript/Node.js?**

‚úÖ –ö–æ–≥–¥–∞ **–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** –∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è **–≥–∏–±–∫–æ—Å—Ç—å**.
‚úÖ –ö–æ–≥–¥–∞ –≤–∞–∂–Ω—ã **–±—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏ –≤—Å—Ç–∞–≤–∫–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—ç—à, WebSockets).
‚úÖ –í **–æ—á–µ—Ä–µ–¥—è—Ö –∑–∞–¥–∞—á**, –±—É—Ñ–µ—Ä–∞—Ö **`Stream`**, LRU Cache.
‚úÖ –í **—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ (Event Loop)**.
‚úÖ –í **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–∞—Ö JS** (`Map`, `Set`, `Promise`, `WeakMap`).

### **–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

‚ùå –ï—Å–ª–∏ **–Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É** ‚Äì –º–∞—Å—Å–∏–≤—ã (`Array`) —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ (`O(1)`).
‚ùå –ö–æ–≥–¥–∞ **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ** ‚Äì –º–∞—Å—Å–∏–≤—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –ø–æ –ø–∞–º—è—Ç–∏.

### **–í—ã–≤–æ–¥**

–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ **Node.js**, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ **–æ—á–µ—Ä–µ–¥—è—Ö –∑–∞–¥–∞—á, –ø–æ—Ç–æ–∫–∞—Ö –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏**. –û–Ω–∏ —Å–∫—Ä—ã—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –¥–≤–∏–∂–∫–µ V8 –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. üöÄ
